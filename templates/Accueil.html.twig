
{% extends 'base.html.twig' %}


{% block body %}
    <link rel="stylesheet" type="text/css" href="{{ asset('css/made-in-loire.css') }}"
          xmlns="http://www.w3.org/1999/html" title="Acceuil" xmlns="http://www.w3.org/1999/html"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css">
    <div class="row">
        <div class = col-12>
            <div class="">
                <h2>Filtres</h2>
                {{ form_start(filtreFormulaire)  }}

                    <div class="filtreAccueil">
                        <div class="row mb-12">
                                <div class="col-2">
                                    {{form_row(filtreFormulaire.departement) }}
                                </div>
                                    <div class="col-2">
                                        {{form_row(filtreFormulaire.categorie)}}
                                    </div>
                                        <div class="col-2">
                                            {{form_row(filtreFormulaire.sousCategorie)}}
                                        </div>
                                            <div class="col-2">
                                                {{ form_row(filtreFormulaire.canton) }}
                                            </div>
                                                <div class="col-2">
                                                    {{ form_row(filtreFormulaire.prixMin) }}
                                                </div>
                                                    <div class="col-2">
                                                    {{ form_row(filtreFormulaire.prixMax) }}
                                                    </div>
                        </div>
                        <div class="boutonRecherche">
                <div class="row col-12">
                    <button class="btn btn-outline-primary">{{ button_label|default('Rechercher ') }}</button>
                </div>
                    </div>
                {{ form_end(filtreFormulaire) }}
            </div>
            </div>
        </div>
    </div>
    <div class="container">
        <h3>Tous nos produits</h3>
        <div class="row">
            <div class="col-9">
                <h3>Tous nos produits</h3>
                <div class="row">
                    {{ include('inc/__card.html.twig') }}
                </div>
            </div>
            <div class = col-3>
                <div id="maCarte" class="maps">
                </div>
            </div>
        </div>
    </div>
    <script src="{{ asset('Javascripts/Categorie.js') }}"></script>
    <script>requeteAjaxGet('#categorie', 'change', '#sousCategorie')</script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js" integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==" crossorigin=""></script>
    {#    important !!! le JS LEAFLET DOIT ETRE PLACÉ APRES LE CSS LEAFLET#}
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
            integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
            crossorigin=""></script>
    {#    le script markerCluster doit etre déclaré APRES le script Leaflet#}
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <script src="{{ asset('Javascripts/Map.js') }}">   </script>
    <script>afficheProduits({{produitMap| json_encode | raw}})</script>
{% endblock %}

{% block title %}

{% endblock %}

